# CV

My resume in JSON Resume format with multiple theme options.

## View

**Live versions** (generated by GitHub Actions):

- [HTML](https://danividanivi.github.io/cv/)
- [PDF](https://danividanivi.github.io/cv/resume.pdf)
- [Extended PDF](https://danividanivi.github.io/cv/resume-2page.pdf) (single-page with full content)

_Note: If links don't work immediately, the GitHub Actions deployment may still be in progress. You can also build locally using the instructions below._

## Themes

This repository includes two custom themes:

### `danivi-style` (Original)
- Compact one-page layout
- Includes current work experience only
- Traditional resume format

### `danivi-long-style` (Extended)
- Single-page extended layout with full content
- Includes work experience, education, volunteer work, and references
- Excludes archived jobs for focused presentation
- Full-height sidebar with contact info and skills
- Streamlined header with summary flowing directly after name/title

## Build Locally

To build locally:

```sh
# Install dependencies
npm install -g resumed
npm install ./danivi-style
npm install ./danivi-long-style

# Generate original one-page version
resumed render resume.json --theme jsonresume-theme-danivi-style --output index.html
resumed export resume.json --theme jsonresume-theme-danivi-style --output resume.pdf

# Generate extended single-page version
resumed render resume.json --theme jsonresume-theme-danivi-long-style --output index-extended.html
resumed export resume.json --theme jsonresume-theme-danivi-long-style --output resume-2page.pdf

# Generate plain text versions
npm run generate:txt # produces resume.txt and resume-2page.txt (ATS friendly)
```

**Note:** With resumed, you need to reference your local themes using their full package names `jsonresume-theme-danivi-style` and `jsonresume-theme-danivi-long-style`.

### Plain Text Export

The repository includes a plain text generator (`generate-txt.js`) that creates ATS-friendly versions:

```sh
npm run generate:txt
```

Output characteristics:

- Excludes archived work experiences (those with `_archived: true`)
- Uses normalized `YYYY-MM` dates
- ASCII-friendly (special non-breaking spaces and uncommon hyphens removed)
- Sections: Summary, Experience, Education, Skills, Languages, References

You can modify `generate-txt.js` to omit references or adjust formatting if needed.

## Automated Build

This repository uses GitHub Actions to automatically build and deploy the resume to GitHub Pages on every push.

### Build Status

Check the [Actions tab](https://github.com/danividanivi/cv/actions) to see the latest build status.

### Troubleshooting

If the live links don't work:

1. Check if the GitHub Actions build completed successfully
2. Wait a few minutes for GitHub Pages to deploy
3. Build locally using the instructions above

## Dependency Management

This repository uses [Dependabot](https://docs.github.com/en/code-security/dependabot) to automatically keep dependencies up to date.

### Configuration

- **Schedule**: Weekly on Mondays at 6:00 PM CET
- **Scope**: All npm dependencies
- **Strategy**:
  - Creates pull requests for minor and patch updates
  - Ignores major version updates (requires manual review)
- **Labels**: Automatically adds `dependencies` and `automated` labels
- **Commit messages**: Prefixed with `deps` or `deps-dev`

### Pull Request Management

- Maximum of 10 open pull requests at once
- Assigns pull requests to repository owner
- Uses descriptive commit messages with scope information

To merge dependency updates:

1. Review the changes in the Dependabot pull request
2. Check if any breaking changes are introduced
3. Test the build locally if needed
4. Merge the pull request

## Reproducible Docker Build

For byte-stable (or near byte-stable) outputs across local and CI, a Docker image is provided.

### Quick Usage

```sh
./docker-generate.sh
```

Artifacts produced in the repo root:

- `index.html` (original theme)
- `index-extended.html` (extended theme)
- `resume.pdf` (original one-page)
- `resume-2page.pdf` (extended single-page)
- `resume.txt` (original plain text)
- `resume-2page.txt` (extended plain text)
- `resume.pdf.sha256` (checksum for original PDF)

These artifacts are `.gitignore`d; regenerate them rather than committing.

### Manual Docker Commands

```sh
docker build -t cv-resume:latest .
docker run --name cv-build cv-resume:latest
docker cp cv-build:/app/index.html index.html
docker cp cv-build:/app/index-extended.html index-extended.html
docker cp cv-build:/app/resume.pdf resume.pdf
docker cp cv-build:/app/resume-2page.pdf resume-2page.pdf
docker cp cv-build:/app/resume.txt resume.txt
docker cp cv-build:/app/resume-2page.txt resume-2page.txt
docker cp cv-build:/app/resume.pdf.sha256 resume.pdf.sha256
docker rm cv-build
sha256sum -c resume.pdf.sha256 # optional verify
```

### Why Docker?

- Fixed Node version & Debian base layer
- Pinned dependency tree via `package-lock.json`
- Pre-fetched Chromium matching Puppeteer version
- Consistent fonts & timezone (UTC)

### Notes

- Exact PDF bytes can still change if you update dependencies, base image tag, or Puppeteer/Chromium.
- To maximize determinism: avoid rebuilding with a moving base tag; consider pinning a digest of the base image.
- Prefer the Docker path for CI parity; the legacy raw Node instructions are for quick local experimentation.
